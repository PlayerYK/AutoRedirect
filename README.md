# AutoRedirect - æ™ºèƒ½é‡å®šå‘æ‰©å±•

[![Chrome Web Store](https://img.shields.io/chrome-web-store/v/edgiaaakbcjloebnmehbnfiajbhcpbcf.svg)](https://chrome.google.com/webstore/detail/autoredirect/edgiaaakbcjloebnmehbnfiajbhcpbcf)
[![Chrome Web Store Users](https://img.shields.io/chrome-web-store/users/edgiaaakbcjloebnmehbnfiajbhcpbcf.svg)](https://chrome.google.com/webstore/detail/autoredirect/edgiaaakbcjloebnmehbnfiajbhcpbcf)

## ğŸš€ åŠŸèƒ½ä»‹ç»

AutoRedirect æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Chrome æ‰©å±•ï¼Œç”¨äºè‡ªåŠ¨é‡å®šå‘ URLï¼Œç‰¹åˆ«é€‚ç”¨äºå¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒä¹‹é—´çš„è‡ªåŠ¨åˆ‡æ¢ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ¯ **æ™ºèƒ½åŒ¹é…**ï¼šæ”¯æŒç²¾ç¡®åŒ¹é…ã€å¼€å¤´åŒ¹é…ã€ç»“å°¾åŒ¹é…ç­‰å¤šç§æ¨¡å¼
- ğŸ”§ **URLæ¨¡æ¿æ›¿æ¢**ï¼šä½¿ç”¨é€šé…ç¬¦å’Œå ä½ç¬¦è¿›è¡Œå¤æ‚çš„URLé‡å†™
- ğŸ“ **æœ¬åœ°æ–‡ä»¶é‡å®šå‘**ï¼šæ”¯æŒæœ¬åœ°æ–‡ä»¶åˆ°è¿œç¨‹URLçš„æ˜ å°„
- ğŸ”— **æ™ºèƒ½URLæå–**ï¼šè‡ªåŠ¨è§£ç è·³è½¬é“¾æ¥ä¸­çš„ç›®æ ‡URL
- ğŸ”€ **å¤šç»“æœé€‰æ‹©**ï¼šå½“åŒ¹é…å¤šä¸ªè§„åˆ™æ—¶æä¾›é€‰æ‹©é¡µé¢
- âš¡ **å³æ—¶ç”Ÿæ•ˆ**ï¼šé…ç½®ä¿å­˜åç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯æµè§ˆå™¨
- ğŸ›¡ï¸ **å®‰å…¨å¯é **ï¼šåŸºäº Manifest V3ï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œå®‰å…¨æ€§æ›´é«˜

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- **å¼€å‘ç¯å¢ƒåˆ‡æ¢**ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒä¸æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢
- **åŸŸåè¿ç§»**ï¼šæ‰¹é‡é‡å®šå‘æ—§åŸŸååˆ°æ–°åŸŸå
- **é“¾æ¥ç®€åŒ–**ï¼šè·³è¿‡ä¸­é—´è·³è½¬é¡µé¢ï¼Œç›´è¾¾ç›®æ ‡ç½‘ç«™
- **æœ¬åœ°æ–‡ä»¶æ˜ å°„**ï¼šå°†æœ¬åœ°HTMLæ–‡ä»¶é‡å®šå‘åˆ°åœ¨çº¿ç‰ˆæœ¬
- **APIç«¯ç‚¹åˆ‡æ¢**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§APIç«¯ç‚¹è‡ªåŠ¨åˆ‡æ¢

## ğŸ“¦ å®‰è£…ä½¿ç”¨

### ä» Chrome Web Store å®‰è£…ï¼ˆæ¨èï¼‰
[ğŸ›’ ç«‹å³å®‰è£…](https://chrome.google.com/webstore/detail/autoredirect/edgiaaakbcjloebnmehbnfiajbhcpbcf)

### å¼€å‘è€…æ¨¡å¼å®‰è£…
1. ä¸‹è½½æˆ–å…‹éš†æ­¤ä»“åº“
2. æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œè®¿é—® `chrome://extensions/`
3. å¯ç”¨"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•

## ğŸ§ª æµ‹è¯•æŒ‡å—

æˆ‘ä»¬æä¾›äº†å®Œæ•´çš„æµ‹è¯•ç³»ç»Ÿæ¥éªŒè¯æ‰©å±•åŠŸèƒ½ï¼š

- **ğŸ“‹ å®Œæ•´æµ‹è¯•æŒ‡å—**ï¼š[TESTING_GUIDE.md](test/TESTING_GUIDE.md)
- **ğŸ® äº¤äº’å¼æµ‹è¯•é¡µé¢**ï¼š[autoredirect_test.html](test/autoredirect_test.html)
- **ğŸŒ åœ¨çº¿æµ‹è¯•é¡µé¢**ï¼š[https://extcreator.com/autoredirect/autoredirect_test.html](https://extcreator.com/autoredirect/autoredirect_test.html)
- **ğŸ“ é…ç½®ç¤ºä¾‹**ï¼š[example_config.txt](test/example_config.txt)

### å¿«é€Ÿæµ‹è¯•
1. æ‰“å¼€ `test/autoredirect_test.html`
2. æŒ‰ç…§é¡µé¢æŒ‡å¼•é€‰æ‹©æµ‹è¯•åŠŸèƒ½
3. ä¸€é”®å¤åˆ¶é…ç½®åˆ°æ‰©å±•é€‰é¡¹é¡µé¢
4. éªŒè¯é‡å®šå‘æ•ˆæœ

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### åŸºç¡€é…ç½®

1. **å¯ç”¨æ‰©å±•**ï¼šç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œåˆ‡æ¢å¼€å…³åˆ°å¼€å¯çŠ¶æ€
2. **é…ç½®è§„åˆ™**ï¼šå³é”®æ‰©å±•å›¾æ ‡é€‰æ‹©"é€‰é¡¹"ï¼Œæ·»åŠ é‡å®šå‘è§„åˆ™
3. **è§„åˆ™æ ¼å¼**ï¼š`åŸå§‹URLæ¨¡å¼####ç›®æ ‡URLæ¨¡å¼`

### ğŸ¯ åŒ¹é…æ¨¡å¼

æ”¯æŒå¤šç§åŒ¹é…æ¨¡å¼ï¼Œæä¾›ç²¾ç¡®çš„URLåŒ¹é…æ§åˆ¶ï¼š

#### ç²¾ç¡®åŒ¹é…ï¼ˆæ¨èï¼Œæœ€å®‰å…¨ï¼‰
```
=localhost:3000####https://dev.example.com
=github.com####https://www.github.com
```
- ä½¿ç”¨ `=` å‰ç¼€
- åªåŒ¹é…å®Œå…¨ç›¸åŒçš„URL
- é¿å…è¯¯è§¦å‘ï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ

#### å¼€å¤´åŒ¹é…ï¼ˆæ¨èæ ¼å¼ï¼‰
```
^dev.localhost####https://development.example.com
^api.localhost####https://api.example.com
^localhost:8####https://development.example.com
staging.internal*####https://staging.example.com
```
- ä½¿ç”¨ `^` å‰ç¼€æˆ– `*` åç¼€
- æ¨èä½¿ç”¨æ ‡å‡†åŸŸåæ ¼å¼ï¼ˆ.localhostã€.localï¼‰
- é€‚ç”¨äºå¼€å‘ç¯å¢ƒå’Œå†…ç½‘åŸŸå

#### ç»“å°¾åŒ¹é…
```
*.local####https://production.example.com
*config.json$####https://config.example.com
```
- ä½¿ç”¨ `*` å‰ç¼€æˆ– `$` åç¼€
- é€‚ç”¨äºç‰¹å®šæ–‡ä»¶ç±»å‹æˆ–åç¼€åŒ¹é…

#### ç®€å•å­—ç¬¦ä¸²åŒ¹é…ï¼ˆç‰¹æ®Šåœºæ™¯ï¼Œè°¨æ…ä½¿ç”¨ï¼‰
```
^danger_dev####https://development.example.com
danger_api*####https://api.example.com
```
- ä½¿ç”¨ `danger_` å‰ç¼€æ ‡è¯†é£é™©
- åœ¨åœ°å€æ ç›´æ¥è¾“å…¥å¯èƒ½è¢«å½“ä½œæœç´¢è¯
- é€‚ç”¨äºä¹¦ç­¾ã€ç¨‹åºè°ƒç”¨ç­‰åœºæ™¯

### ğŸ”§ URLæ¨¡æ¿æ›¿æ¢åŠŸèƒ½

å¼ºå¤§çš„URLæ¨¡æ¿æ›¿æ¢åŠŸèƒ½ï¼Œæ”¯æŒå¤æ‚çš„URLé‡å†™ï¼š

#### åŸºç¡€è¯­æ³•
- **é€šé…ç¬¦åŒ¹é…**ï¼šä½¿ç”¨ `*` åŒ¹é…ä»»æ„å­—ç¬¦
- **å ä½ç¬¦å¼•ç”¨**ï¼šä½¿ç”¨ `{1}`, `{2}`, `{3}` ç­‰å¼•ç”¨åŒ¹é…çš„å†…å®¹
- **çµæ´»é‡ç»„**ï¼šæ”¯æŒå ä½ç¬¦é‡å¤ä½¿ç”¨ã€é‡æ–°æ’åˆ—ã€é€‰æ‹©æ€§ä½¿ç”¨

#### å®ç”¨ç¤ºä¾‹

```
# åŸŸåè¿ç§»ï¼šä¿æŒè·¯å¾„ç»“æ„
old-domain.com/*####new-domain.com/{1}
è¾“å…¥ï¼šold-domain.com/docs/guide
è¾“å‡ºï¼šnew-domain.com/docs/guide

# å¤æ‚è·¯å¾„é‡å†™ï¼šé‡æ–°ç»„ç»‡URLç»“æ„
example.com/*/page/*####https://newsite.com/{1}/newpage/{2}
è¾“å…¥ï¼šexample.com/user123/page/settings
è¾“å‡ºï¼šhttps://newsite.com/user123/newpage/settings

# å¤šæ®µè·¯å¾„é‡ç»„
old.com/*/category/*/item/*####new.com/{1}/cat/{2}/product/{3}
è¾“å…¥ï¼šold.com/books/category/fiction/item/123
è¾“å‡ºï¼šnew.com/books/cat/fiction/product/123

# å‚æ•°é‡æ–°æ’åˆ—
site.com/*/page/*/section/*####newsite.com/{3}/{1}/{2}
è¾“å…¥ï¼šsite.com/user/page/profile/section/settings
è¾“å‡ºï¼šnewsite.com/settings/user/profile

# é‡å¤ä½¿ç”¨å ä½ç¬¦
old.com/user/*####new.com/{1}/profile/{1}/settings
è¾“å…¥ï¼šold.com/user/john
è¾“å‡ºï¼šnew.com/john/profile/john/settings
```

### ğŸ”— æ™ºèƒ½URLæå–åŠŸèƒ½

è‡ªåŠ¨æå–å’Œè§£ç è·³è½¬é“¾æ¥ä¸­çš„ç›®æ ‡URLï¼š

```
# çŸ¥ä¹é“¾æ¥è‡ªåŠ¨è§£ç 
link.zhihu.com/?target=####

# å¾®ä¿¡å®‰å…¨é“¾æ¥è‡ªåŠ¨è§£ç 
weixin110.qq.com/cgi-bin/readtemplate?t=safety/index&url=####
```

ç›®æ ‡URLç•™ç©ºï¼ˆ`####`åé¢ä¸ºç©ºï¼‰ï¼Œæ‰©å±•ä¼šè‡ªåŠ¨æå–URLå‚æ•°ä¸­çš„çœŸå®ç›®æ ‡åœ°å€ã€‚

### ğŸ“ æœ¬åœ°æ–‡ä»¶é‡å®šå‘åŠŸèƒ½

æ”¯æŒæœ¬åœ°æ–‡ä»¶åˆ°è¿œç¨‹URLçš„æ˜ å°„ï¼Œé€‚ç”¨äºå¼€å‘ç¯å¢ƒï¼š

```
# ç‰¹å®šé¡¹ç›®æ–‡ä»¶é‡å®šå‘
*ChromeStore/localfile/*.html$####https://www.example.com/{2}/

# é€šç”¨demoæ–‡ä»¶é‡å®šå‘
*demo_local.html$####https://www.example.com/demo/

# è·¨ç”¨æˆ·å¼€å‘ç¯å¢ƒæ˜ å°„
=file:///Users/*/dev/*/pickone/*.html####https://production.example.com/{3}/
```

### ğŸ”€ å¤šç»“æœé€‰æ‹©åŠŸèƒ½

å½“ä¸€ä¸ªURLåŒ¹é…å¤šä¸ªè§„åˆ™æ—¶ï¼Œæ˜¾ç¤ºé€‰æ‹©é¡µé¢ï¼š

```
multi####https://www.google.com
multi####https://www.bing.com
multi####https://www.yahoo.com
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
AutoRedirect/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ images/                   # å›¾æ ‡èµ„æº
â”‚   â””â”€â”€ script/                   # è„šæœ¬æ–‡ä»¶
â”‚       â””â”€â”€ redirect-engine.js    # é‡å®šå‘å¼•æ“æ ¸å¿ƒ
â”œâ”€â”€ test/                         # æµ‹è¯•ç³»ç»Ÿ
â”‚   â”œâ”€â”€ autoredirect_test.html    # äº¤äº’å¼æµ‹è¯•é¡µé¢
â”‚   â”œâ”€â”€ example_config.txt        # é…ç½®ç¤ºä¾‹
â”‚   â””â”€â”€ TESTING_GUIDE.md         # æµ‹è¯•æŒ‡å—
â”œâ”€â”€ store/                        # åº”ç”¨å•†åº—èµ„æº
â”œâ”€â”€ manifest.json                 # æ‰©å±•æ¸…å•æ–‡ä»¶ (Manifest V3)
â”œâ”€â”€ background.js                 # åå°è„šæœ¬
â”œâ”€â”€ chose.html                    # å¤šç»“æœé€‰æ‹©é¡µé¢
â”œâ”€â”€ options.html                  # é€‰é¡¹é¡µé¢
â”œâ”€â”€ popup.html                    # å¼¹å‡ºçª—å£
â”œâ”€â”€ build.js                      # æ„å»ºè„šæœ¬
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Chrome 88+ æµè§ˆå™¨
- Node.jsï¼ˆç”¨äºæ„å»ºè„šæœ¬ï¼‰

### å¼€å‘æµç¨‹
1. **å…‹éš†é¡¹ç›®**ï¼š`git clone https://github.com/PlayerYK/AutoRedirect.git`
2. **åŠ è½½æ‰©å±•**ï¼šåœ¨Chromeæ‰©å±•ç®¡ç†é¡µé¢åŠ è½½é¡¹ç›®ç›®å½•
3. **ä¿®æ”¹ä»£ç **ï¼šç¼–è¾‘æºæ–‡ä»¶
4. **æµ‹è¯•åŠŸèƒ½**ï¼šä½¿ç”¨ `test/autoredirect_test.html` è¿›è¡Œæµ‹è¯•
5. **æ„å»ºæ‰“åŒ…**ï¼šè¿è¡Œ `node build.js` ç”Ÿæˆå‘å¸ƒåŒ…

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

- **`background.js`**ï¼šåå°è„šæœ¬ï¼Œå¤„ç†URLé‡å®šå‘é€»è¾‘
- **`src/script/redirect-engine.js`**ï¼šé‡å®šå‘å¼•æ“ï¼Œæ ¸å¿ƒåŒ¹é…ç®—æ³•
- **`options.html/js`**ï¼šé€‰é¡¹é¡µé¢ï¼Œè§„åˆ™é…ç½®ç•Œé¢
- **`chose.html/js`**ï¼šå¤šç»“æœé€‰æ‹©é¡µé¢
- **`popup.html/js`**ï¼šæ‰©å±•å¼€å…³æ§åˆ¶

### æµ‹è¯•ç³»ç»Ÿ

é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•ç³»ç»Ÿï¼š

- **äº¤äº’å¼æµ‹è¯•**ï¼š`test/autoredirect_test.html` - ç”¨æˆ·å‹å¥½çš„æµ‹è¯•ç•Œé¢
- **é…ç½®ç¤ºä¾‹**ï¼š`test/example_config.txt` - å®Œæ•´çš„è§„åˆ™ç¤ºä¾‹
- **æµ‹è¯•æŒ‡å—**ï¼š`test/TESTING_GUIDE.md` - è¯¦ç»†çš„æµ‹è¯•è¯´æ˜

## ğŸ”§ æ„å»ºæ‰“åŒ…

ä½¿ç”¨å†…ç½®çš„æ„å»ºè„šæœ¬è¿›è¡Œæ‰“åŒ…ï¼š

```bash
# è¿è¡Œæ„å»ºè„šæœ¬
node build.js

# è¾“å‡ºæ–‡ä»¶
dist/AutoRedirect-v[ç‰ˆæœ¬å·].zip
```

æ„å»ºè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- è¯»å– manifest.json ä¸­çš„ç‰ˆæœ¬å·
- åˆ›å»º dist ç›®å½•
- æ‰“åŒ…æ‰€æœ‰å¿…è¦æ–‡ä»¶
- ç”Ÿæˆå¸¦ç‰ˆæœ¬å·çš„zipæ–‡ä»¶

## ğŸ“Š ç‰ˆæœ¬å†å²

### ğŸ‰ v0.1.0 (2025å¹´6æœˆ) - Manifest V3 é‡å¤§å‡çº§
- âœ… å‡çº§åˆ° Manifest V3 æ ‡å‡†
- âœ… å…¨æ–°çš„é‡å®šå‘å¼•æ“
- âœ… æ”¯æŒ8ç§åŒ¹é…æ¨¡å¼
- âœ… URLæ¨¡æ¿æ›¿æ¢åŠŸèƒ½
- âœ… æœ¬åœ°æ–‡ä»¶é‡å®šå‘æ”¯æŒ
- âœ… æ™ºèƒ½URLæå–åŠŸèƒ½
- âœ… å¤šç»“æœé€‰æ‹©åŠŸèƒ½
- âœ… å®Œæ•´çš„æµ‹è¯•ç³»ç»Ÿ
- âœ… äº¤äº’å¼é…ç½®ç•Œé¢
- âœ… è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹

### v0.0.2 (2014å¹´8æœˆ30æ—¥)
- ç¬¬ä¸€ç‰ˆä¸Šçº¿

## ğŸ”— ç›¸å…³é“¾æ¥

- **Chrome Web Store**ï¼šhttps://chrome.google.com/webstore/detail/autoredirect/edgiaaakbcjloebnmehbnfiajbhcpbcf
- **GitHub ä»“åº“**ï¼šhttps://github.com/PlayerYK/AutoRedirect
- **åœ¨çº¿æ¼”ç¤º**ï¼šhttps://extcreator.com/autoredirect/autoredirect_test.html
- **é—®é¢˜åé¦ˆ**ï¼š[GitHub Issues](https://github.com/PlayerYK/AutoRedirect/issues)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/new-feature`
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒï¼

---

**æ³¨æ„**ï¼šæ¨èä½¿ç”¨ `test/autoredirect_test.html` è¿›è¡Œå®Œæ•´çš„åŠŸèƒ½æµ‹è¯•ï¼Œè¯¥æ–‡ä»¶åŒ…å«äº†ä¸é…ç½®ç¤ºä¾‹å®Œå…¨ç»Ÿä¸€çš„è§„åˆ™å’Œè¯¦ç»†çš„ä½¿ç”¨è¯´æ˜ã€‚